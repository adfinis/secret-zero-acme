1. Clone repo
2. Switch into repo folder
3. Uncomment line 10 and comment line 9 in the docker-compose.yaml
4. podman-compose up -d
5. ./provision-vault.sh
6. podman exec -it acme /bin/sh
# Step 7 is only needed if you aren't fast enough with the provision-vault script
7. acme.sh --server https://vault-server:8200/v1/pki/roles/dns-podman/acme/directory --insecure --standalone --issue -d acme.dns.podman -k 2048
8.
    curl \
    --insecure \
    --request POST \
    --cacert /acme.sh/acme.dns.podman/ca.cer \
    --cert /acme.sh/acme.dns.podman/acme.dns.podman.cer \
    --key /acme.sh/acme.dns.podman/acme.dns.podman.key \
    https://vault-server:8200/v1/auth/cert/login | jq -r '.auth.client_token' > token.txt

9. curl -k -X GET -H "X-Vault-Token: $(cat token.txt)" https://vault-server:8200/v1/kv-v2/data/acme_demo_a/test
10. curl -k -X GET -H "X-Vault-Token: $(cat token.txt)" https://vault-server:8200/v1/kv-v2/data/acme_demo_b/test 
